<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="4921px" height="2331px" viewBox="-0.5 -0.5 4921 2331" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2023-11-12T13:37:42.028Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&quot; etag=&quot;_AjMHlvbtg04W5VTyHmY&quot; version=&quot;22.1.0&quot; type=&quot;github&quot;&gt;&#10;  &lt;diagram name=&quot;Page-1&quot; id=&quot;YzGceIOVziA1kC3717K2&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;5088&quot; dy=&quot;3884&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;1100&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-1&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-63&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Entity&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Piece&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-360&quot; y=&quot;417.75&quot; width=&quot;210&quot; height=&quot;196&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-3&quot; value=&quot;Position initialPosition (id in board)&amp;lt;br&amp;gt;PieceSpecification specification&amp;lt;br&amp;gt;ReadonlyBoard board&amp;lt;br&amp;gt;MovePattern movePattern&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;210&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-4&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot;&gt;&#10;          &lt;mxGeometry y=&quot;110&quot; width=&quot;210&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-5&quot; value=&quot;Position currentPosition()&amp;lt;br&amp;gt;void transformTo(PieceType type)&amp;lt;br&amp;gt;Boolean threatens(Position)&amp;lt;br&amp;gt;Boolean canMoveTo(Position)&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot;&gt;&#10;          &lt;mxGeometry y=&quot;118&quot; width=&quot;210&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-6&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Move&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1555&quot; y=&quot;130&quot; width=&quot;160&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-7&quot; value=&quot;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;Position from&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;PieceSpecification piece&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;Position to&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-6&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;160&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-8&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-6&quot;&gt;&#10;          &lt;mxGeometry y=&quot;102&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-9&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-6&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1824.5&quot; y=&quot;-80&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1722.5&quot; y=&quot;-102&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-10&quot; value=&quot;&quot; style=&quot;endArrow=diamondThin;endFill=1;endSize=24;html=1;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-51&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-190&quot; y=&quot;417.75&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-252.18631178707255&quot; y=&quot;362.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-11&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-12&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-51&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-12&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Repository&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;BoardRepository&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-350&quot; y=&quot;-285&quot; width=&quot;200&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-13&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-12&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;200&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-14&quot; value=&quot;Board createNewBoardInitializer()&amp;lt;br&amp;gt;Board getBoard(id)&amp;lt;br&amp;gt;save(Board)&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-12&quot;&gt;&#10;          &lt;mxGeometry y=&quot;50&quot; width=&quot;200&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-15&quot; value=&quot;&amp;lt;p style=&amp;quot;border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;&amp;quot;&amp;gt;&amp;lt;b style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;&amp;quot;&amp;gt;&amp;lt;b style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;Rank&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;3031&quot; y=&quot;385.75&quot; width=&quot;170&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-16&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-15&quot;&gt;&#10;          &lt;mxGeometry y=&quot;50&quot; width=&quot;170&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-17&quot; value=&quot;Optional&amp;amp;lt;Rank&amp;amp;gt; next()&amp;lt;br&amp;gt;Optional&amp;amp;lt;Rank&amp;amp;gt; previous()&amp;lt;br&amp;gt;Integer distanceTo(Rank)&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-15&quot;&gt;&#10;          &lt;mxGeometry y=&quot;60&quot; width=&quot;170&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-18&quot; value=&quot;&amp;lt;p style=&amp;quot;border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;&amp;quot;&amp;gt;&amp;lt;b style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;&amp;quot;&amp;gt;&amp;lt;b style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;File&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;3031&quot; y=&quot;515.75&quot; width=&quot;170&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-19&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-18&quot;&gt;&#10;          &lt;mxGeometry y=&quot;50&quot; width=&quot;170&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-20&quot; value=&quot;Optional&amp;amp;lt;File&amp;amp;gt; next()&amp;lt;br&amp;gt;Optional&amp;amp;lt;File&amp;amp;gt; previous()&amp;lt;br&amp;gt;Integer distanceTo(File)&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-18&quot;&gt;&#10;          &lt;mxGeometry y=&quot;60&quot; width=&quot;170&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-21&quot; value=&quot;&quot; style=&quot;endArrow=classicThin;endFill=1;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;strokeColor=default;strokeWidth=1;startArrow=diamondThin;startFill=0;endSize=6;startSize=24;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-55&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;192&quot; y=&quot;322.75&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;272&quot; y=&quot;258&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-22&quot; value=&quot;getPositionOf(this)&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-21&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0632&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-23&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-14&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-45&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-24&quot; value=&quot;&quot; style=&quot;endArrow=diamondThin;endFill=0;endSize=24;html=1;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-15&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-36&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;2099&quot; y=&quot;345.75&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;2102&quot; y=&quot;285.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-25&quot; value=&quot;&quot; style=&quot;endArrow=diamondThin;endFill=0;endSize=24;html=1;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-18&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-36&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;3041&quot; y=&quot;469.75&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;2931&quot; y=&quot;487.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-26&quot; value=&quot;&quot; style=&quot;endArrow=diamondThin;endFill=0;endSize=24;html=1;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-27&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-93&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;3041&quot; y=&quot;566.75&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;2931&quot; y=&quot;541.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-27&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Enum&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Direction&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2300&quot; y=&quot;635.75&quot; width=&quot;295&quot; height=&quot;144&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-28&quot; value=&quot;VERTICAL_UP, DIAGONAL_UP_RIGHT, &amp;lt;br&amp;gt;HORIZONTAL_RIGHT, DIAGONAL_DOWN_RIGHT, &amp;lt;br&amp;gt;VERTICAL_DOWN, DIAGONAL_DOWN_LEFT, &amp;lt;br&amp;gt;HORIZONTAL_LEFT, DIAGONAL_UP_LEFT&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-27&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;295&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-29&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-27&quot;&gt;&#10;          &lt;mxGeometry y=&quot;112&quot; width=&quot;295&quot; height=&quot;2&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-30&quot; value=&quot;Direction opposite()&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-27&quot;&gt;&#10;          &lt;mxGeometry y=&quot;114&quot; width=&quot;295&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-31&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-48&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-32&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-2&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-98&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-140&quot; y=&quot;490&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint y=&quot;448&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Interface&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Play&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1015&quot; y=&quot;-100&quot; width=&quot;290&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-34&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;290&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-35&quot; value=&quot;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;+ Color getPlayerColor()&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;+ Boolean canActOnCurrentState(ReadonlyBoard)&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;+ void actOn(Board)&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;&amp;lt;i&amp;gt;+ String toLongAlgebraicNotation()&amp;lt;br&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot;&gt;&#10;          &lt;mxGeometry y=&quot;50&quot; width=&quot;290&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-36&quot; value=&quot;&amp;lt;p style=&amp;quot;border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;&amp;quot;&amp;gt;&amp;lt;b style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;&amp;quot;&amp;gt;&amp;lt;b style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;Position&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2641&quot; y=&quot;395.75&quot; width=&quot;280&quot; height=&quot;190&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-37&quot; value=&quot;&amp;lt;p style=&amp;quot;border-color: var(--border-color); margin: 0px 0px 0px 4px;&amp;quot;&amp;gt;File file&amp;lt;/p&amp;gt;&amp;lt;p style=&amp;quot;border-color: var(--border-color); margin: 0px 0px 0px 4px;&amp;quot;&amp;gt;Rank rank&amp;lt;/p&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-36&quot;&gt;&#10;          &lt;mxGeometry y=&quot;50&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-38&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-36&quot;&gt;&#10;          &lt;mxGeometry y=&quot;90&quot; width=&quot;280&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-39&quot; value=&quot;Optional&amp;amp;lt;Direction&amp;amp;gt; directionTo(Position)&amp;lt;br&amp;gt;Optional&amp;amp;lt;Path&amp;amp;gt; pathTo(Position)&amp;lt;br&amp;gt;Optional&amp;amp;lt;Position&amp;amp;gt; nextOn(Direction)&amp;lt;br&amp;gt;Optional&amp;amp;lt;Position&amp;amp;gt; previousOn(Direction)&amp;lt;br&amp;gt;Boolean isNeighborTo(Position)&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-36&quot;&gt;&#10;          &lt;mxGeometry y=&quot;100&quot; width=&quot;280&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-40&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Factory&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;PlayFactory&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1005&quot; y=&quot;-335&quot; width=&quot;310&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-41&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-40&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;310&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-42&quot; value=&quot;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;createPlayFromLongAlgebraicNotation(Color, String)&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-40&quot;&gt;&#10;          &lt;mxGeometry y=&quot;50&quot; width=&quot;310&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-43&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-45&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-48&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-44&quot; value=&quot;use to create new pieces&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-43&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.1127&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-45&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Factory&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;BoardInitializer&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-700&quot; y=&quot;5&quot; width=&quot;160&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-46&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-45&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-47&quot; value=&quot;BoardInitializer placeAll()&amp;lt;br&amp;gt;Board getBoard()&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-45&quot;&gt;&#10;          &lt;mxGeometry y=&quot;48&quot; width=&quot;160&quot; height=&quot;52&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-48&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Factory&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;PieceFactory&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-750&quot; y=&quot;471.75&quot; width=&quot;260&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-49&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-48&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;260&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-50&quot; value=&quot;List&amp;amp;lt;Piece&amp;amp;gt; createPieces(PieceSpecification)&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-48&quot;&gt;&#10;          &lt;mxGeometry y=&quot;48&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-51&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Entity, Aggregate Root&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Board&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-390&quot; y=&quot;-10&quot; width=&quot;280&quot; height=&quot;160&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-52&quot; value=&quot;String id&amp;lt;br&amp;gt;BiMap&amp;amp;lt;Position, Piece&amp;amp;gt; currentPositionToPiece&amp;lt;br&amp;gt;Stack&amp;amp;lt;Play&amp;amp;gt; history&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-51&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;280&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-53&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-51&quot;&gt;&#10;          &lt;mxGeometry y=&quot;100&quot; width=&quot;280&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-54&quot; value=&quot;void makePlay(Play)&amp;lt;br&amp;gt;void placePieceAt(Position, Piece)&amp;lt;br&amp;gt;&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-51&quot;&gt;&#10;          &lt;mxGeometry y=&quot;110&quot; width=&quot;280&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-55&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Interface&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;ReadonlyBoard&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;210&quot; y=&quot;100&quot; width=&quot;280&quot; height=&quot;190&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-56&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-55&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;280&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-57&quot; value=&quot;Set&amp;amp;lt;Piece&amp;amp;gt; getPiecesOf(Color)&amp;lt;br style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;Set&amp;amp;lt;Piece&amp;amp;gt; getPiecesOf(Color, Type)&amp;lt;br style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;Position getPositionOf(Piece)&amp;lt;br style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;Optional&amp;amp;lt;Piece&amp;amp;gt; getPieceAt(Position)&amp;lt;br&amp;gt;Boolean&amp;amp;nbsp;isPositionThreatenedBy(Position, Color)&amp;lt;br&amp;gt;Optional&amp;amp;lt;Play&amp;amp;gt; getLastPlay()&amp;lt;br&amp;gt;Iterable&amp;amp;lt;Play&amp;amp;gt; history()&amp;lt;br&amp;gt;Color nextTurnPlayerColor()&amp;lt;br&amp;gt;ReadonlyBoard simulate(Play)&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-55&quot;&gt;&#10;          &lt;mxGeometry y=&quot;48&quot; width=&quot;280&quot; height=&quot;142&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-58&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-51&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-55&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1157&quot; y=&quot;295&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1357&quot; y=&quot;46&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-59&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Enum&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Color&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;160&quot; y=&quot;462.75&quot; width=&quot;170&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-60&quot; value=&quot;WHITE, BLACK&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-59&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;170&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-61&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-59&quot;&gt;&#10;          &lt;mxGeometry y=&quot;60&quot; width=&quot;170&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-62&quot; value=&quot;Color opposite()&amp;lt;br&amp;gt;Boolean oppositeOf(Color)&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-59&quot;&gt;&#10;          &lt;mxGeometry y=&quot;70&quot; width=&quot;170&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-63&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;PieceSpecification&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-50&quot; y=&quot;471.75&quot; width=&quot;170&quot; height=&quot;92&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-64&quot; value=&quot;PieceType type&amp;lt;br&amp;gt;Color color&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-63&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;170&quot; height=&quot;44&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-65&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-63&quot;&gt;&#10;          &lt;mxGeometry y=&quot;84&quot; width=&quot;170&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-66&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-63&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-59&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-67&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Enum&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;PieceType&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-45&quot; y=&quot;597&quot; width=&quot;160&quot; height=&quot;88&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-68&quot; value=&quot;PAWN, ROOK, BISHOP, &amp;lt;br&amp;gt;KNIGHT, KING, QUEEN&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-67&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;160&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-69&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-67&quot;&gt;&#10;          &lt;mxGeometry y=&quot;80&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-70&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-63&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-67&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Interface&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;BoardAssertion&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1225&quot; y=&quot;494.75&quot; width=&quot;220&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-72&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;220&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-73&quot; value=&quot;Boolean test(ReadonlyBoard)&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot;&gt;&#10;          &lt;mxGeometry y=&quot;48&quot; width=&quot;220&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-74&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-55&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-152&quot; value=&quot;validate state against assertions&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-74&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.1476&quot; y=&quot;4&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-75&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;LastPlayerKingIsNotCheckedAssertion&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1100&quot; y=&quot;849.75&quot; width=&quot;240&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-76&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-75&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;240&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-77&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-75&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;575&quot; y=&quot;-40.25&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;700&quot; y=&quot;149.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-78&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;PawnsOnFinalRankArePromotedAssertion&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1100&quot; y=&quot;914.5&quot; width=&quot;255&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-79&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-78&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;255&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-80&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-78&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;833&quot; y=&quot;-40.25&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;762&quot; y=&quot;149.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-81&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;BoardStateIsValidAssertion&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1100&quot; y=&quot;789.75&quot; width=&quot;190&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-82&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-81&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;190&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-83&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-81&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1093&quot; y=&quot;949.75&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1308&quot; y=&quot;600.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-84&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;PlayLegalityAssertion&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1100&quot; y=&quot;699.75&quot; width=&quot;145&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-85&quot; value=&quot;BoardAssertion assertion&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-84&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;145&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-86&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-84&quot;&gt;&#10;          &lt;mxGeometry y=&quot;72&quot; width=&quot;145&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-87&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-84&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;579&quot; y=&quot;-40.25&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;724&quot; y=&quot;149.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-88&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;ColorThreatensPositionAssertion&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1390&quot; y=&quot;694.75&quot; width=&quot;255&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-89&quot; value=&quot;Position&amp;lt;br&amp;gt;Color&amp;amp;nbsp;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-88&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;255&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-90&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-88&quot;&gt;&#10;          &lt;mxGeometry y=&quot;82&quot; width=&quot;255&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-91&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-88&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-71&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1483&quot; y=&quot;539.75&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1360&quot; y=&quot;502.75&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-92&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-93&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-55&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-93&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Path&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2311&quot; y=&quot;419.75&quot; width=&quot;280&quot; height=&quot;142&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-94&quot; value=&quot;Position from&amp;lt;br&amp;gt;Direction direction&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-93&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;280&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-95&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-93&quot;&gt;&#10;          &lt;mxGeometry y=&quot;80&quot; width=&quot;280&quot; height=&quot;2&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-96&quot; value=&quot;Boolean isBlockedOn(ReadonlyBoard)&amp;lt;br&amp;gt;Boolean isClearedOn(ReadonlyBoard)&amp;lt;br&amp;gt;Boolean isThreatenedBy(Color, ReadonlyBoard)&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-93&quot;&gt;&#10;          &lt;mxGeometry y=&quot;82&quot; width=&quot;280&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-97&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-36&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-93&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-98&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Interface&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;MovePattern&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;spacingLeft=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-365&quot; y=&quot;685&quot; width=&quot;220&quot; height=&quot;104&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-99&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-98&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;220&quot; height=&quot;4&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-100&quot; value=&quot;boolean couldMoveToIfEmpty(Position)&amp;lt;br&amp;gt;boolean threatens(Positio)&amp;lt;br&amp;gt;Set&amp;amp;lt;Play&amp;amp;gt; getSuggestedPlays();&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=2;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-98&quot;&gt;&#10;          &lt;mxGeometry y=&quot;44&quot; width=&quot;220&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-101&quot; value=&quot;DirectionalMovePattern&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-335&quot; y=&quot;865&quot; width=&quot;160&quot; height=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-102&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-101&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-103&quot; value=&quot;KingMovePattern&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-335&quot; y=&quot;931&quot; width=&quot;160&quot; height=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-104&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-103&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-105&quot; value=&quot;KnightMovePattern&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-160&quot; y=&quot;865&quot; width=&quot;160&quot; height=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-106&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-105&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-107&quot; value=&quot;PawnMovePattern&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-500&quot; y=&quot;865&quot; width=&quot;160&quot; height=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-108&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-107&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-109&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-101&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-98&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-98&quot; y=&quot;708&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-172&quot; y=&quot;614&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-110&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-103&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-101&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-380&quot; y=&quot;1029&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-459&quot; y=&quot;894&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-111&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-105&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-98&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;380&quot; y=&quot;799&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;301&quot; y=&quot;664&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-112&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-107&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-98&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;450&quot; y=&quot;647&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;380&quot; y=&quot;633&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-113&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-51&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-150&quot; value=&quot;act on board to place and remove pieces&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-113&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0293&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-114&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-40&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1835.000000000001&quot; y=&quot;-340&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-115&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-55&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;2855&quot; y=&quot;-203&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;920&quot; y=&quot;10&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-151&quot; value=&quot;check preconditions for play&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-115&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0404&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-116&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Capture&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1555&quot; width=&quot;160&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-117&quot; value=&quot;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;Position from&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;div style=&amp;quot;border-color: var(--border-color);&amp;quot;&amp;gt;PieceSpecification piece&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;Position to&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-116&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;160&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-118&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-116&quot;&gt;&#10;          &lt;mxGeometry y=&quot;102&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-119&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-116&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1834.5&quot; y=&quot;-70&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1732.5&quot; y=&quot;-92&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-120&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Castle&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1555&quot; y=&quot;-100&quot; width=&quot;160&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-121&quot; value=&quot;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;Color color&amp;lt;/span&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;CastleSide castleSide&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-120&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;160&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-122&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-120&quot;&gt;&#10;          &lt;mxGeometry y=&quot;82&quot; width=&quot;160&quot; height=&quot;8&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-123&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-120&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1844.5&quot; y=&quot;-60&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1742.5&quot; y=&quot;-82&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-124&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Enum&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;CastleSide&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=42;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1845&quot; y=&quot;-110&quot; width=&quot;170&quot; height=&quot;104&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-125&quot; value=&quot;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;KING_SIDE, QUEEN_SIDE&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-124&quot;&gt;&#10;          &lt;mxGeometry y=&quot;42&quot; width=&quot;170&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-126&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-124&quot;&gt;&#10;          &lt;mxGeometry y=&quot;72&quot; width=&quot;170&quot; height=&quot;2&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-127&quot; value=&quot;Direction toDirection()&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-124&quot;&gt;&#10;          &lt;mxGeometry y=&quot;74&quot; width=&quot;170&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-128&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;startArrow=diamondThin;startFill=0;endSize=24;startSize=24;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-120&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-124&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-129&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;EnPassant&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1570&quot; y=&quot;-220&quot; width=&quot;130&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-130&quot; value=&quot;Position from&amp;lt;br&amp;gt;Color color&amp;lt;br&amp;gt;Position to&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-129&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;130&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-131&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-129&quot;&gt;&#10;          &lt;mxGeometry y=&quot;100&quot; width=&quot;130&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-132&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-129&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1812.5&quot; y=&quot;-127.46153846153811&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1752.5&quot; y=&quot;-72&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-133&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;ValueObject&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;Promotion&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1576&quot; y=&quot;-350&quot; width=&quot;120&quot; height=&quot;110&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-134&quot; value=&quot;Position from&amp;lt;br&amp;gt;Color color&amp;lt;br&amp;gt;PieceType toPiece&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-133&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-135&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-133&quot;&gt;&#10;          &lt;mxGeometry y=&quot;100&quot; width=&quot;120&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-136&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=16;endFill=0;html=1;rounded=0;dashed=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-133&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-33&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1482.5&quot; y=&quot;310&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1374.5&quot; y=&quot;188&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-139&quot; value=&quot;&quot; style=&quot;line;strokeWidth=2;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-1220&quot; y=&quot;-450&quot; width=&quot;4620&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-140&quot; value=&quot;Model&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=72;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-1490&quot; y=&quot;-360&quot; width=&quot;260&quot; height=&quot;85&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-141&quot; value=&quot;Application&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=72;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-1520&quot; y=&quot;-900&quot; width=&quot;400&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-146&quot; value=&quot;access boards through&quot; style=&quot;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=diamondThin;startFill=0;endSize=6;startSize=24;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;LbjDt9EwyfrZbK4v_rcG-142&quot; target=&quot;LbjDt9EwyfrZbK4v_rcG-12&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-142&quot; value=&quot;&amp;amp;lt;&amp;amp;lt;Service&amp;amp;gt;&amp;amp;gt;&amp;lt;br&amp;gt;GameController&quot; style=&quot;swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;spacingLeft=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-415&quot; y=&quot;-780&quot; width=&quot;330&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-143&quot; value=&quot;BoardRepository repository&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;spacingLeft=4;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-142&quot;&gt;&#10;          &lt;mxGeometry y=&quot;40&quot; width=&quot;330&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-144&quot; value=&quot;&quot; style=&quot;line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-142&quot;&gt;&#10;          &lt;mxGeometry y=&quot;70&quot; width=&quot;330&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-145&quot; value=&quot;BoardId newGame()&amp;lt;br&amp;gt;Optional&amp;amp;lt;PieceSpecification&amp;amp;gt; getPieceAt(BoardId, Position)&amp;lt;br&amp;gt;Set&amp;amp;lt;PlayDto&amp;amp;gt; getPlaysFor(BoardId, Position)&amp;lt;br&amp;gt;void makePlay(BoardId, PlayDto)&quot; style=&quot;text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=2;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;&quot; vertex=&quot;1&quot; parent=&quot;LbjDt9EwyfrZbK4v_rcG-142&quot;&gt;&#10;          &lt;mxGeometry y=&quot;80&quot; width=&quot;330&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-147&quot; value=&quot;&quot; style=&quot;line;strokeWidth=2;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-1230&quot; y=&quot;-970&quot; width=&quot;4620&quot; height=&quot;10&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-148&quot; value=&quot;UI&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=72;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-1470&quot; y=&quot;-1360&quot; width=&quot;110&quot; height=&quot;90&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-157&quot; value=&quot;&quot; style=&quot;line;strokeWidth=2;direction=south;html=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;610&quot; y=&quot;-340&quot; width=&quot;10&quot; height=&quot;1310&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;LbjDt9EwyfrZbK4v_rcG-158&quot; value=&quot;Board entity&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;The Board and Pieces entities form an aggregate of entities, with the Board as the aggregate root.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;A Piece can only have a position if the board allows it. The board MUST control the state, to apply it&amp;#39;s rules. Examples:&amp;lt;br&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;Only one piece per position.&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;The plays should be validated against all pieces in the board, to check for global conditions, suck as &amp;quot;cant leave your own king in check&amp;quot;.&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&quot; style=&quot;shape=note;size=20;whiteSpace=wrap;html=1;spacingLeft=0;align=left;verticalAlign=top;spacingBottom=0;spacingTop=0;spacing=8;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-1320&quot; y=&quot;130&quot; width=&quot;290&quot; height=&quot;230&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;" resource="https://app.diagrams.net/#Hsantunioni%2Fchess%2Fmain%2Fmodel.svg"><defs/><g><path d="M 1370 1876.47 L 1463.63 1877.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1468.88 1877.16 L 1461.86 1880.61 L 1463.63 1877.12 L 1461.91 1873.61 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1160 1817.75 L 1160 1777.75 L 1370 1777.75 L 1370 1817.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1160 1817.75 L 1160 1973.75 L 1370 1973.75 L 1370 1817.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1160 1817.75 L 1370 1817.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 1785px; margin-left: 1161px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Entity&gt;&gt;<br />Piece</div></div></div></foreignObject><text x="1265" y="1797" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Entity&gt;&gt;...</text></switch></g><rect x="1160" y="1817.75" width="210" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 200px; height: 1px; padding-top: 1825px; margin-left: 1166px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 66px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Position initialPosition (id in board)<br />PieceSpecification specification<br />ReadonlyBoard board<br />MovePattern movePattern</div></div></div></foreignObject><text x="1166" y="1837" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Position initialPosition (id in b...</text></switch></g><path d="M 1160 1891.75 L 1370 1891.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1160" y="1895.75" width="210" height="78" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 200px; height: 1px; padding-top: 1903px; margin-left: 1166px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 74px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Position currentPosition()<br />void transformTo(PieceType type)<br />Boolean threatens(Position)<br />Boolean canMoveTo(Position)</div></div></div></foreignObject><text x="1166" y="1915" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Position currentPosition()...</text></switch></g><path d="M 3075 1532 L 3075 1490 L 3235 1490 L 3235 1532" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3075 1532 L 3075 1600 L 3235 1600 L 3235 1532" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 3075 1532 L 3235 1532" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1497px; margin-left: 3076px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br />Move</div></div></div></foreignObject><text x="3155" y="1509" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="3075" y="1532" width="160" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1562px; margin-left: 3081px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style=""><span style="background-color: initial;">Position from</span></div><div style="">PieceSpecification piece</div><div style=""><span style="background-color: initial;">Position to</span></div></div></div></div></foreignObject><text x="3081" y="1566" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Position from...</text></switch></g><path d="M 3075 1596 L 3235 1596" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3075 1507.11 L 2823.04 1387.76" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2807.68 1380.48 L 2826.68 1380.07 L 2819.4 1395.44 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1266.1 1777.75 L 1268.81 1535.98" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1269.09 1510.99 L 1276.3 1523.57 L 1268.81 1535.98 L 1261.6 1523.4 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1270 1195 L 1270 1343.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1270 1348.88 L 1266.5 1341.88 L 1270 1343.63 L 1273.5 1341.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1170 1115 L 1170 1075 L 1370 1075 L 1370 1115" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1170 1115 L 1170 1195 L 1370 1195 L 1370 1115" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1170 1115 L 1370 1115" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1082px; margin-left: 1171px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Repository&gt;&gt;<br />BoardRepository</div></div></div></foreignObject><text x="1270" y="1094" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Repository&gt;&gt;...</text></switch></g><path d="M 1170 1120 L 1370 1120" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1170" y="1125" width="200" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 1132px; margin-left: 1176px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 66px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Board createNewBoardInitializer()<br />Board getBoard(id)<br />save(Board)</div></div></div></foreignObject><text x="1176" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Board createNewBoardInitializer(...</text></switch></g><path d="M 4551 1795.75 L 4551 1745.75 L 4721 1745.75 L 4721 1795.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 4551 1795.75 L 4551 1865.75 L 4721 1865.75 L 4721 1795.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 4551 1795.75 L 4721 1795.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1753px; margin-left: 4552px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;"><p style="border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;"><b style="border-color: var(--border-color);">&lt;&lt;ValueObject&gt;&gt;</b></p><p style="border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;"><b style="border-color: var(--border-color);">Rank</b></p></div></div></div></foreignObject><text x="4636" y="1765" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><path d="M 4551 1800.75 L 4721 1800.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="4551" y="1805.75" width="170" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1836px; margin-left: 4557px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Optional&lt;Rank&gt; next()<br />Optional&lt;Rank&gt; previous()<br />Integer distanceTo(Rank)</div></div></div></foreignObject><text x="4557" y="1839" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Optional&lt;Rank&gt; next()...</text></switch></g><path d="M 4551 1925.75 L 4551 1875.75 L 4721 1875.75 L 4721 1925.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 4551 1925.75 L 4551 1995.75 L 4721 1995.75 L 4721 1925.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 4551 1925.75 L 4721 1925.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1883px; margin-left: 4552px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;"><p style="border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;"><b style="border-color: var(--border-color);">&lt;&lt;ValueObject&gt;&gt;</b></p><p style="border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;"><b style="border-color: var(--border-color);">File</b></p></div></div></div></foreignObject><text x="4636" y="1895" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><path d="M 4551 1930.75 L 4721 1930.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="4551" y="1935.75" width="170" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1966px; margin-left: 4557px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Optional&lt;File&gt; next()<br />Optional&lt;File&gt; previous()<br />Integer distanceTo(File)</div></div></div></foreignObject><text x="4557" y="1969" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Optional&lt;File&gt; next()...</text></switch></g><path d="M 1341.6 1768.03 L 1724.09 1613.82" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1318.41 1777.38 L 1327.26 1765.89 L 1341.6 1768.03 L 1332.76 1779.53 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1728.96 1611.86 L 1723.34 1616.64 L 1724.09 1613.82 L 1721.6 1612.31 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1702px; margin-left: 1512px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">getPositionOf(this)</div></div></div></foreignObject><text x="1512" y="1705" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">getPositionOf(this)</text></switch></g><path d="M 1219.22 1195 L 977.79 1361.39" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 973.47 1364.37 L 977.25 1357.51 L 977.79 1361.39 L 981.22 1363.28 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 4551 1817.17 L 4466.75 1828.48" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4441.98 1831.81 L 4453.39 1822.86 L 4466.75 1828.48 L 4455.35 1837.44 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 4551 1914.18 L 4466.19 1892.66" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4441.96 1886.51 L 4455.88 1882.46 L 4466.19 1892.66 L 4452.26 1896.72 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3968.66 1995.75 L 3969.44 1947.73" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3969.84 1922.74 L 3976.99 1935.35 L 3969.44 1947.73 L 3962.29 1935.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3820 2037.75 L 3820 1995.75 L 4115 1995.75 L 4115 2037.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3820 2037.75 L 3820 2139.75 L 4115 2139.75 L 4115 2037.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 3820 2037.75 L 4115 2037.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 289px; height: 1px; padding-top: 2003px; margin-left: 3825px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Enum&gt;&gt;<br />Direction</div></div></div></foreignObject><text x="3970" y="2015" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Enum&gt;&gt;...</text></switch></g><rect x="3820" y="2037.75" width="295" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2073px; margin-left: 3826px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">VERTICAL_UP, DIAGONAL_UP_RIGHT, <br />HORIZONTAL_RIGHT, DIAGONAL_DOWN_RIGHT, <br />VERTICAL_DOWN, DIAGONAL_DOWN_LEFT, <br />HORIZONTAL_LEFT, DIAGONAL_UP_LEFT</div></div></div></foreignObject><text x="3826" y="2076" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">VERTICAL_UP, DIAGONAL_UP_RIGHT,...</text></switch></g><path d="M 3820 2108.75 L 4115 2108.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="3820" y="2109.75" width="295" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2125px; margin-left: 3826px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Direction opposite()</div></div></div></foreignObject><text x="3826" y="2128" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Direction opposite()</text></switch></g><path d="M 1030 1872.53 L 1153.63 1874.22" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1158.88 1874.3 L 1151.83 1877.7 L 1153.63 1874.22 L 1151.93 1870.7 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1265 1973.75 L 1265 2038.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1265 2043.88 L 1261.5 2036.88 L 1265 2038.63 L 1268.5 2036.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2535 1300 L 2535 1260 L 2825 1260 L 2825 1300" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2535 1300 L 2535 1380 L 2825 1380 L 2825 1300" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 2535 1300 L 2825 1300" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 288px; height: 1px; padding-top: 1267px; margin-left: 2536px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Interface&gt;&gt;<br />Play</div></div></div></foreignObject><text x="2680" y="1279" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Interface&gt;&gt;...</text></switch></g><path d="M 2535 1305 L 2825 1305" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2535" y="1310" width="290" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1317px; margin-left: 2541px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style=""><span style="background-color: initial;">+ Color getPlayerColor()</span></div><div style=""><span style="background-color: initial;">+ Boolean canActOnCurrentState(ReadonlyBoard)</span></div><div style=""><span style="background-color: initial;"><i>+ void actOn(Board)</i></span></div><div style=""><span style="background-color: initial;"><i>+ String toLongAlgebraicNotation()<br /></i></span></div></div></div></div></foreignObject><text x="2541" y="1329" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">+ Color getPlayerColor()...</text></switch></g><path d="M 4161 1805.75 L 4161 1755.75 L 4441 1755.75 L 4441 1805.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 4161 1805.75 L 4161 1945.75 L 4441 1945.75 L 4441 1805.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 4161 1805.75 L 4441 1805.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1763px; margin-left: 4162px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;"><p style="border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;"><b style="border-color: var(--border-color);">&lt;&lt;ValueObject&gt;&gt;</b></p><p style="border-color: var(--border-color); font-weight: 400; margin: 4px 0px 0px;"><b style="border-color: var(--border-color);">Position</b></p></div></div></div></foreignObject><text x="4301" y="1775" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="4161" y="1805.75" width="280" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1826px; margin-left: 4167px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><p style="border-color: var(--border-color); margin: 0px 0px 0px 4px;">File file</p><p style="border-color: var(--border-color); margin: 0px 0px 0px 4px;">Rank rank</p></div></div></div></foreignObject><text x="4167" y="1829" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">File file...</text></switch></g><path d="M 4161 1850.75 L 4441 1850.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="4161" y="1855.75" width="280" height="90" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1901px; margin-left: 4167px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Optional&lt;Direction&gt; directionTo(Position)<br />Optional&lt;Path&gt; pathTo(Position)<br />Optional&lt;Position&gt; nextOn(Direction)<br />Optional&lt;Position&gt; previousOn(Direction)<br />Boolean isNeighborTo(Position)</div></div></div></foreignObject><text x="4167" y="1904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Optional&lt;Direction&gt; directionTo(Position)...</text></switch></g><path d="M 2525 1065 L 2525 1025 L 2835 1025 L 2835 1065" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2525 1065 L 2525 1105 L 2835 1105 L 2835 1065" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 2525 1065 L 2835 1065" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 308px; height: 1px; padding-top: 1032px; margin-left: 2526px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Factory&gt;&gt;<br />PlayFactory</div></div></div></foreignObject><text x="2680" y="1044" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Factory&gt;&gt;...</text></switch></g><path d="M 2525 1070 L 2835 1070" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2525" y="1075" width="310" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1082px; margin-left: 2531px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="">createPlayFromLongAlgebraicNotation(Color, String)</div></div></div></div></foreignObject><text x="2531" y="1094" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">createPlayFromLongAlgebraicNotation(Color, String)</text></switch></g><path d="M 900 1465 L 900 1825.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 900 1830.63 L 896.5 1823.63 L 900 1825.38 L 903.5 1823.63 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1628px; margin-left: 900px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">use to create new pieces</div></div></div></foreignObject><text x="900" y="1631" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">use to create new pieces</text></switch></g><path d="M 820 1405 L 820 1365 L 980 1365 L 980 1405" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 820 1405 L 820 1465 L 980 1465 L 980 1405" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 820 1405 L 980 1405" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1372px; margin-left: 821px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Factory&gt;&gt;<br />BoardInitializer</div></div></div></foreignObject><text x="900" y="1384" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Factory&gt;&gt;...</text></switch></g><path d="M 820 1409 L 980 1409" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="820" y="1413" width="160" height="52" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 150px; height: 1px; padding-top: 1420px; margin-left: 826px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 48px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">BoardInitializer placeAll()<br />Board getBoard()</div></div></div></foreignObject><text x="826" y="1432" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">BoardInitializer placeAll...</text></switch></g><path d="M 770 1871.75 L 770 1831.75 L 1030 1831.75 L 1030 1871.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 770 1871.75 L 770 1909.75 L 1030 1909.75 L 1030 1871.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 770 1871.75 L 1030 1871.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 1839px; margin-left: 771px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Factory&gt;&gt;<br />PieceFactory</div></div></div></foreignObject><text x="900" y="1851" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Factory&gt;&gt;...</text></switch></g><path d="M 770 1875.75 L 1030 1875.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="770" y="1879.75" width="260" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 1887px; margin-left: 776px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 26px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">List&lt;Piece&gt; createPieces(PieceSpecification)</div></div></div></foreignObject><text x="776" y="1899" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">List&lt;Piece&gt; createPieces(PieceSpecificatio...</text></switch></g><path d="M 1130 1390 L 1130 1350 L 1410 1350 L 1410 1390" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1130 1390 L 1130 1510 L 1410 1510 L 1410 1390" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1130 1390 L 1410 1390" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1357px; margin-left: 1131px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Entity, Aggregate Root&gt;&gt;<br />Board</div></div></div></foreignObject><text x="1270" y="1369" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Entity, Aggregate Root&gt;&gt;...</text></switch></g><rect x="1130" y="1390" width="280" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1420px; margin-left: 1136px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">String id<br />BiMap&lt;Position, Piece&gt; currentPositionToPiece<br />Stack&lt;Play&gt; history</div></div></div></foreignObject><text x="1136" y="1424" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">String id...</text></switch></g><path d="M 1130 1455 L 1410 1455" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1130" y="1460" width="280" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 270px; height: 1px; padding-top: 1467px; margin-left: 1136px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 46px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">void makePlay(Play)<br />void placePieceAt(Position, Piece)<br /></div></div></div></foreignObject><text x="1136" y="1479" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">void makePlay(Play)...</text></switch></g><path d="M 1730 1500 L 1730 1460 L 2010 1460 L 2010 1500" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1730 1500 L 1730 1650 L 2010 1650 L 2010 1500" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1730 1500 L 2010 1500" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1467px; margin-left: 1731px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Interface&gt;&gt;<br />ReadonlyBoard</div></div></div></foreignObject><text x="1870" y="1479" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Interface&gt;&gt;...</text></switch></g><path d="M 1730 1504 L 2010 1504" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1730" y="1508" width="280" height="142" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 270px; height: 1px; padding-top: 1515px; margin-left: 1736px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 138px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Set&lt;Piece&gt; getPiecesOf(Color)<br style="border-color: var(--border-color);" />Set&lt;Piece&gt; getPiecesOf(Color, Type)<br style="border-color: var(--border-color);" />Position getPositionOf(Piece)<br style="border-color: var(--border-color);" />Optional&lt;Piece&gt; getPieceAt(Position)<br />BooleanisPositionThreatenedBy(Position, Color)<br />Optional&lt;Play&gt; getLastPlay()<br />Iterable&lt;Play&gt; history()<br />Color nextTurnPlayerColor()<br />ReadonlyBoard simulate(Play)</div></div></div></foreignObject><text x="1736" y="1527" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Set&lt;Piece&gt; getPiecesOf(Color)...</text></switch></g><path d="M 1410 1459.17 L 1712.26 1522.14" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1728.91 1525.61 L 1710.53 1530.46 L 1714 1513.82 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1680 1862.75 L 1680 1822.75 L 1850 1822.75 L 1850 1862.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1680 1862.75 L 1680 1932.75 L 1850 1932.75 L 1850 1862.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1680 1862.75 L 1850 1862.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1830px; margin-left: 1681px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Enum&gt;&gt;<br />Color</div></div></div></foreignObject><text x="1765" y="1842" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Enum&gt;&gt;...</text></switch></g><rect x="1680" y="1862.75" width="170" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 1870px; margin-left: 1686px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">WHITE, BLACK</div></div></div></foreignObject><text x="1686" y="1882" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">WHITE, BLACK</text></switch></g><path d="M 1680 1887.75 L 1850 1887.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1680" y="1892.75" width="170" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1913px; margin-left: 1686px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Color opposite()<br />Boolean oppositeOf(Color)</div></div></div></foreignObject><text x="1686" y="1916" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Color opposite()...</text></switch></g><path d="M 1470 1871.75 L 1470 1831.75 L 1640 1831.75 L 1640 1871.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1470 1871.75 L 1470 1923.75 L 1640 1923.75 L 1640 1871.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1470 1871.75 L 1640 1871.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1839px; margin-left: 1471px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br />PieceSpecification</div></div></div></foreignObject><text x="1555" y="1851" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="1470" y="1871.75" width="170" height="44" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 1879px; margin-left: 1476px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 40px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">PieceType type<br />Color color</div></div></div></foreignObject><text x="1476" y="1891" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">PieceType type...</text></switch></g><path d="M 1470 1919.75 L 1640 1919.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1640 1877.75 L 1673.63 1877.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1678.88 1877.75 L 1671.88 1881.25 L 1673.63 1877.75 L 1671.88 1874.25 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1475 1997 L 1475 1957 L 1635 1957 L 1635 1997" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1475 1997 L 1475 2045 L 1635 2045 L 1635 1997" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1475 1997 L 1635 1997" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1964px; margin-left: 1476px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Enum&gt;&gt;<br />PieceType</div></div></div></foreignObject><text x="1555" y="1976" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Enum&gt;&gt;...</text></switch></g><rect x="1475" y="1997" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 150px; height: 1px; padding-top: 2004px; margin-left: 1481px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 36px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">PAWN, ROOK, BISHOP, <br />KNIGHT, KING, QUEEN</div></div></div></foreignObject><text x="1481" y="2016" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">PAWN, ROOK, BISHOP,...</text></switch></g><path d="M 1475 2041 L 1635 2041" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1555 1923.75 L 1555 1950.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1555 1955.88 L 1551.5 1948.88 L 1555 1950.63 L 1558.5 1948.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2745 1894.75 L 2745 1854.75 L 2965 1854.75 L 2965 1894.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2745 1894.75 L 2745 1932.75 L 2965 1932.75 L 2965 1894.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 2745 1894.75 L 2965 1894.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1862px; margin-left: 2746px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Interface&gt;&gt;<br />BoardAssertion</div></div></div></foreignObject><text x="2855" y="1874" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Interface&gt;&gt;...</text></switch></g><path d="M 2745 1898.75 L 2965 1898.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="2745" y="1902.75" width="220" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 210px; height: 1px; padding-top: 1910px; margin-left: 2751px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 26px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Boolean test(ReadonlyBoard)</div></div></div></foreignObject><text x="2751" y="1922" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Boolean test(ReadonlyBoard)</text></switch></g><path d="M 2745 1855.92 L 2016.02 1605.22" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2011.06 1603.51 L 2018.81 1602.48 L 2016.02 1605.22 L 2016.54 1609.1 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1716px; margin-left: 2323px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">validate state against assertions</div></div></div></foreignObject><text x="2323" y="1719" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">validate state against assertions</text></switch></g><path d="M 2620 2251.75 L 2620 2209.75 L 2860 2209.75 L 2860 2251.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2620 2251.75 L 2620 2259.75 L 2860 2259.75 L 2860 2251.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 2620 2251.75 L 2860 2251.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2217px; margin-left: 2621px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br style="border-color: var(--border-color);" />LastPlayerKingIsNotCheckedAssertion</div></div></div></foreignObject><text x="2740" y="2229" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><path d="M 2620 2255.75 L 2860 2255.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2748.43 2209.75 L 2836.06 1949.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2841.49 1933.81 L 2844.11 1952.63 L 2828 1947.2 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2620 2316.5 L 2620 2274.5 L 2875 2274.5 L 2875 2316.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2620 2316.5 L 2620 2324.5 L 2875 2324.5 L 2875 2316.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 2620 2316.5 L 2875 2316.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 253px; height: 1px; padding-top: 2282px; margin-left: 2621px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br style="border-color: var(--border-color);" />PawnsOnFinalRankArePromotedAssertion</div></div></div></foreignObject><text x="2748" y="2294" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><path d="M 2620 2320.5 L 2875 2320.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2754.12 2274.5 L 2840.03 1950.26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2844.38 1933.83 L 2848.24 1952.44 L 2831.81 1948.09 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2620 2191.75 L 2620 2149.75 L 2810 2149.75 L 2810 2191.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2620 2191.75 L 2620 2199.75 L 2810 2199.75 L 2810 2191.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 2620 2191.75 L 2810 2191.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2157px; margin-left: 2621px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br style="border-color: var(--border-color);" />BoardStateIsValidAssertion</div></div></div></foreignObject><text x="2715" y="2169" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><path d="M 2620 2195.75 L 2810 2195.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2727.46 2149.75 L 2827.49 1948.97" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2835.07 1933.75 L 2835.1 1952.76 L 2819.88 1945.18 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2620 2101.75 L 2620 2059.75 L 2765 2059.75 L 2765 2101.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2620 2101.75 L 2620 2139.75 L 2765 2139.75 L 2765 2101.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 2620 2101.75 L 2765 2101.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 2067px; margin-left: 2621px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br style="border-color: var(--border-color);" />PlayLegalityAssertion</div></div></div></foreignObject><text x="2693" y="2079" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="2620" y="2101.75" width="145" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2117px; margin-left: 2626px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">BoardAssertion assertion</div></div></div></foreignObject><text x="2626" y="2120" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">BoardAssertion assertion</text></switch></g><path d="M 2620 2135.75 L 2765 2135.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2724.05 2059.75 L 2813.01 1946.97" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2823.54 1933.63 L 2819.69 1952.24 L 2806.34 1941.71 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2910 2096.75 L 2910 2054.75 L 3165 2054.75 L 3165 2096.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2910 2096.75 L 2910 2144.75 L 3165 2144.75 L 3165 2096.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 2910 2096.75 L 3165 2096.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 253px; height: 1px; padding-top: 2062px; margin-left: 2911px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br style="border-color: var(--border-color);" />ColorThreatensPositionAssertion</div></div></div></foreignObject><text x="3038" y="2074" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="2910" y="2096.75" width="255" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2117px; margin-left: 2916px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Position<br />Color</div></div></div></foreignObject><text x="2916" y="2120" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Position...</text></switch></g><path d="M 2910 2140.75 L 3165 2140.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2997.63 2054.75 L 2901.57 1946.31" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2890.29 1933.59 L 2907.93 1940.67 L 2895.2 1951.95 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3831 1831.04 L 2016.31 1575.59" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2011.11 1574.86 L 2018.53 1572.37 L 2016.31 1575.59 L 2017.55 1579.3 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3831 1819.75 L 3831 1779.75 L 4111 1779.75 L 4111 1819.75" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3831 1819.75 L 3831 1921.75 L 4111 1921.75 L 4111 1819.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 3831 1819.75 L 4111 1819.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 1787px; margin-left: 3832px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br />Path</div></div></div></foreignObject><text x="3971" y="1799" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="3831" y="1819.75" width="280" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1840px; margin-left: 3837px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Position from<br />Direction direction</div></div></div></foreignObject><text x="3837" y="1843" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Position from...</text></switch></g><path d="M 3831 1860.75 L 4111 1860.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="3831" y="1861.75" width="280" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1892px; margin-left: 3837px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Boolean isBlockedOn(ReadonlyBoard)<br />Boolean isClearedOn(ReadonlyBoard)<br />Boolean isThreatenedBy(Color, ReadonlyBoard)</div></div></div></foreignObject><text x="3837" y="1895" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Boolean isBlockedOn(ReadonlyBoard)...</text></switch></g><path d="M 4161 1850.75 L 4117.37 1850.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4112.12 1850.75 L 4119.12 1847.25 L 4117.37 1850.75 L 4119.12 1854.25 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1155 2085 L 1155 2045 L 1375 2045 L 1375 2085" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1155 2085 L 1155 2149 L 1375 2149 L 1375 2085" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1155 2085 L 1375 2085" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 217px; height: 1px; padding-top: 2052px; margin-left: 1157px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Interface&gt;&gt;<br />MovePattern</div></div></div></foreignObject><text x="1266" y="2064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Interface&gt;&gt;...</text></switch></g><path d="M 1155 2087 L 1375 2087" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1155" y="2089" width="220" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2119px; margin-left: 1159px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">boolean couldMoveToIfEmpty(Position)<br />boolean threatens(Positio)<br />Set&lt;Play&gt; getSuggestedPlays();</div></div></div></foreignObject><text x="1159" y="2123" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">boolean couldMoveToIfEmpty(Position)...</text></switch></g><path d="M 1185 2251 L 1185 2225 L 1345 2225 L 1345 2251" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1185 2251 L 1185 2259 L 1345 2259 L 1345 2251" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1185 2251 L 1345 2251" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2232px; margin-left: 1186px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">DirectionalMovePattern</div></div></div></foreignObject><text x="1265" y="2244" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">DirectionalMovePattern</text></switch></g><path d="M 1185 2255 L 1345 2255" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1185 2317 L 1185 2291 L 1345 2291 L 1345 2317" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1185 2317 L 1185 2325 L 1345 2325 L 1345 2317" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1185 2317 L 1345 2317" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2298px; margin-left: 1186px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">KingMovePattern</div></div></div></foreignObject><text x="1265" y="2310" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">KingMovePattern</text></switch></g><path d="M 1185 2321 L 1345 2321" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1360 2251 L 1360 2225 L 1520 2225 L 1520 2251" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1360 2251 L 1360 2259 L 1520 2259 L 1520 2251" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1360 2251 L 1520 2251" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2232px; margin-left: 1361px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">KnightMovePattern</div></div></div></foreignObject><text x="1440" y="2244" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">KnightMovePattern</text></switch></g><path d="M 1360 2255 L 1520 2255" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1020 2251 L 1020 2225 L 1180 2225 L 1180 2251" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1020 2251 L 1020 2259 L 1180 2259 L 1180 2251" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1020 2251 L 1180 2251" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2232px; margin-left: 1021px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">PawnMovePattern</div></div></div></foreignObject><text x="1100" y="2244" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">PawnMovePattern</text></switch></g><path d="M 1020 2255 L 1180 2255" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1265 2225 L 1265 2167.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1265 2150.12 L 1273.5 2167.12 L 1256.5 2167.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1265 2291 L 1265 2277.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1265 2260.12 L 1273.5 2277.12 L 1256.5 2277.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1419.48 2225 L 1341.71 2160.56" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1328.62 2149.71 L 1347.13 2154.01 L 1336.29 2167.1 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1119.34 2225 L 1192.22 2160.96" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1204.99 2149.74 L 1197.83 2167.34 L 1186.61 2154.58 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2535 1331.31 L 1416.35 1418.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1411.11 1418.99 L 1417.82 1414.96 L 1416.35 1418.58 L 1418.37 1421.94 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1375px; margin-left: 1990px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">act on board to place and remove pieces</div></div></div></foreignObject><text x="1990" y="1378" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">act on board to place and remove pieces</text></switch></g><path d="M 2680 1105 L 2680 1253.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2680 1258.88 L 2676.5 1251.88 L 2680 1253.63 L 2683.5 1251.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2535 1362.07 L 2016.12 1512.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2011.07 1514.07 L 2016.82 1508.76 L 2016.12 1512.61 L 2018.77 1515.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1436px; margin-left: 2285px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">check preconditions for play</div></div></div></foreignObject><text x="2285" y="1439" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">check preconditions for play</text></switch></g><path d="M 3075 1402 L 3075 1360 L 3235 1360 L 3235 1402" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3075 1402 L 3075 1470 L 3235 1470 L 3235 1402" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 3075 1402 L 3235 1402" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1367px; margin-left: 3076px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br />Capture</div></div></div></foreignObject><text x="3155" y="1379" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="3075" y="1402" width="160" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1432px; margin-left: 3081px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style=""><span style="background-color: initial;">Position from</span></div><div style=""><div style="border-color: var(--border-color);">PieceSpecification piece</div></div><div style="">Position to</div></div></div></div></foreignObject><text x="3081" y="1436" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Position from...</text></switch></g><path d="M 3075 1466 L 3235 1466" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3075 1399 L 2842.77 1352.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2826.1 1349.22 L 2844.43 1344.22 L 2841.1 1360.89 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3075 1302 L 3075 1260 L 3235 1260 L 3235 1302" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3075 1302 L 3075 1350 L 3235 1350 L 3235 1302" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 3075 1302 L 3235 1302" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1267px; margin-left: 3076px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br />Castle</div></div></div></foreignObject><text x="3155" y="1279" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="3075" y="1302" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1322px; margin-left: 3081px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style=""><span style="background-color: initial;">Color color</span><br /></div><div style="">CastleSide castleSide</div></div></div></div></foreignObject><text x="3081" y="1326" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Color color...</text></switch></g><path d="M 3075 1346 L 3235 1346" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3075 1307.53 L 2843.11 1314.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2826.12 1315.39 L 2842.84 1306.35 L 2843.38 1323.34 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3365 1292 L 3365 1250 L 3535 1250 L 3535 1292" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3365 1292 L 3365 1354 L 3535 1354 L 3535 1292" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 3365 1292 L 3535 1292" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1257px; margin-left: 3366px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Enum&gt;&gt;<br />CastleSide</div></div></div></foreignObject><text x="3450" y="1269" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Enum&gt;&gt;...</text></switch></g><rect x="3365" y="1292" width="170" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1307px; margin-left: 3371px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="">KING_SIDE, QUEEN_SIDE</div></div></div></div></foreignObject><text x="3371" y="1311" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">KING_SIDE, QUEEN_SIDE</text></switch></g><path d="M 3365 1323 L 3535 1323" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="3365" y="1324" width="170" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1339px; margin-left: 3371px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Direction toDirection()</div></div></div></foreignObject><text x="3371" y="1343" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Direction toDirection()</text></switch></g><path d="M 3260.98 1303.92 L 3365 1302.86" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3235.99 1304.18 L 3248.41 1296.7 L 3260.98 1303.92 L 3248.56 1311.4 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3090 1180 L 3090 1140 L 3220 1140 L 3220 1180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3090 1180 L 3090 1250 L 3220 1250 L 3220 1180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 3090 1180 L 3220 1180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1147px; margin-left: 3091px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br />EnPassant</div></div></div></foreignObject><text x="3155" y="1159" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="3090" y="1180" width="130" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1210px; margin-left: 3096px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Position from<br />Color color<br />Position to</div></div></div></foreignObject><text x="3096" y="1214" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Position from...</text></switch></g><path d="M 3090 1245 L 3220 1245" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3090 1212.11 L 2842.52 1277.23" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2826.08 1281.56 L 2840.36 1269.01 L 2844.68 1285.45 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3096 1050 L 3096 1010 L 3216 1010 L 3216 1050" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3096 1050 L 3096 1120 L 3216 1120 L 3216 1050" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 3096 1050 L 3216 1050" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1017px; margin-left: 3097px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;ValueObject&gt;&gt;<br />Promotion</div></div></div></foreignObject><text x="3156" y="1029" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;ValueObject&gt;&gt;...</text></switch></g><rect x="3096" y="1050" width="120" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1080px; margin-left: 3102px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Position from<br />Color color<br />PieceType toPiece</div></div></div></foreignObject><text x="3102" y="1084" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Position from...</text></switch></g><path d="M 3096 1115 L 3216 1115" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 3096 1097.14 L 2807.97 1251.44" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2792.99 1259.47 L 2803.96 1243.95 L 2811.98 1258.94 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 300 915 L 4920 915" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="30" y="1000" width="260" height="85" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 1043px; margin-left: 31px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 72px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Model</div></div></div></foreignObject><text x="160" y="1064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="72px" text-anchor="middle">Model</text></switch></g><rect x="0" y="460" width="400" height="80" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 398px; height: 1px; padding-top: 500px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 72px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Application</div></div></div></foreignObject><text x="200" y="522" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="72px" text-anchor="middle">Application</text></switch></g><path d="M 1270 755.99 L 1270 1068.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1270 730.99 L 1277.35 743.49 L 1270 755.99 L 1262.65 743.49 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1270 1073.88 L 1266.5 1066.88 L 1270 1068.63 L 1273.5 1066.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 902px; margin-left: 1270px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">access boards through</div></div></div></foreignObject><text x="1270" y="905" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">access boards through</text></switch></g><path d="M 1105 620 L 1105 580 L 1435 580 L 1435 620" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1105 620 L 1105 730 L 1435 730 L 1435 620" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 1105 620 L 1435 620" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 327px; height: 1px; padding-top: 587px; margin-left: 1107px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">&lt;&lt;Service&gt;&gt;<br />GameController</div></div></div></foreignObject><text x="1271" y="599" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">&lt;&lt;Service&gt;&gt;...</text></switch></g><rect x="1105" y="620" width="330" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 635px; margin-left: 1111px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">BoardRepository repository</div></div></div></foreignObject><text x="1111" y="639" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">BoardRepository repository</text></switch></g><path d="M 1105 655 L 1435 655" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1105" y="660" width="330" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 1px; padding-top: 667px; margin-left: 1109px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 66px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">BoardId newGame()<br />Optional&lt;PieceSpecification&gt; getPieceAt(BoardId, Position)<br />Set&lt;PlayDto&gt; getPlaysFor(BoardId, Position)<br />void makePlay(BoardId, PlayDto)</div></div></div></foreignObject><text x="1109" y="679" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">BoardId newGame()...</text></switch></g><path d="M 290 395 L 4910 395" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="50" y="0" width="110" height="90" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 45px; margin-left: 51px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 72px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">UI</div></div></div></foreignObject><text x="105" y="67" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="72px" text-anchor="middle">UI</text></switch></g><path d="M 1480 1675 L 2790 1675" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" transform="rotate(90,2135,1675)" pointer-events="all"/><path d="M 200 1490 L 470 1490 L 490 1510 L 490 1720 L 200 1720 L 200 1490 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 470 1490 L 470 1510 L 490 1510" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 276px; height: 1px; padding-top: 1503px; margin-left: 208px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Board entity<br /><br />The Board and Pieces entities form an aggregate of entities, with the Board as the aggregate root.<br /><br />A Piece can only have a position if the board allows it. The board MUST control the state, to apply it's rules. Examples:<br /><ul><li>Only one piece per position.</li><li>The plays should be validated against all pieces in the board, to check for global conditions, suck as "cant leave your own king in check".</li></ul></div></div></div></foreignObject><text x="208" y="1515" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Board entity...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>